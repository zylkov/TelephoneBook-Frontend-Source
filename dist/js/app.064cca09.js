(function(e){function t(t){for(var s,o,i=t[0],l=t[1],c=t[2],d=0,p=[];d<i.length;d++)o=i[d],a[o]&&p.push(a[o][0]),a[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],s=!0,i=1;i<n.length;i++){var l=n[i];0!==a[l]&&(s=!1)}s&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var s={},a={app:0},r=[];function o(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=s,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(n,s,function(t){return e[t]}.bind(null,s));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"133f":function(e,t,n){"use strict";var s=n("6b66"),a=n.n(s);a.a},2600:function(e,t,n){},2666:function(e,t,n){},"2f07":function(e,t,n){},3815:function(e,t,n){},"3c2a":function(e,t,n){"use strict";var s=n("bb5a"),a=n.n(s);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var s=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("v-app",{attrs:{id:"inspire"}},[n("Header",{attrs:{btnAdd:e.btnAdd,tooltipAdd:e.tooltipAdd},on:{"open-nav":e.openNav,"click-add":e.clickAdd}}),n("Navigator",{attrs:{nav:e.nav,drawer:e.drawer},on:{"close-nav":e.closeNav}}),n("router-view")],1)],1)},r=[],o=(n("7f7f"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-toolbar",[n("v-toolbar-side-icon",{on:{click:function(t){return t.stopPropagation(),e.clickBurger(t)}}}),n("v-toolbar-title",[e._v(e._s(e.$route.name))]),n("v-spacer"),n("v-toolbar-items",[e.btnAdd?n("v-tooltip",{staticClass:"addBt",attrs:{bottom:""}},[n("v-btn",{attrs:{slot:"activator",flat:"",icon:""},on:{click:e.clickAdd},slot:"activator"},[n("v-icon",[e._v("add")])],1),n("span",[e._v("\n             "+e._s(e.tooltipAdd)+"\n         ")])],1):e._e()],1)],1)}),i=[],l={name:"Header",methods:{clickBurger:function(){this.$emit("open-nav",!0)},clickAdd:function(){this.$emit("click-add")}},props:["btnAdd","tooltipAdd"]},c=l,u=(n("a740"),n("2877")),d=Object(u["a"])(c,o,i,!1,null,null,null),p=d.exports,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-navigation-drawer",{attrs:{absolute:"",temporary:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list",{staticClass:"pt-0",attrs:{dense:""}},e._l(e.nav,function(t){return n("v-list-tile",{key:t.title,on:{click:function(n){e.goToPage(t.pathName)}}},[n("v-list-tile-action",[n("v-icon",{attrs:{medium:""}},[e._v(e._s(t.icon))])],1),n("v-list-tile-content",[n("v-list-tile-title",{staticClass:"title font-weight-light"},[e._v(e._s(t.title))])],1)],1)}),1)],1)},f=[],h=n("8c4f"),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("v-layout",{attrs:{"align-center":"","justify-center":"",column:"","fill-height":""}},[n("v-icon",{staticClass:"padding",attrs:{size:"80",color:"green darken-2"}},[e._v("phone")]),n("div",{staticClass:"display-2 font-weight-bold"},[e._v("\n      Единная\n    ")]),n("div",{staticClass:"display-2 font-weight-bold"},[e._v("\n      База данных контактов\n    ")]),n("div",{staticClass:"display-2 font-weight-bold padding"},[e._v("\n      России\n    ")]),n("div",{staticClass:"headline padding"},[e._v("\n      Здесь вы можете найти номер абонента или службы\n    ")]),n("div",[n("v-btn",{attrs:{href:"#/abonents",large:"",round:"",color:"info",dark:""}},[e._v("Абоненты")]),n("v-btn",{attrs:{href:"#/structurs",large:"",round:"",color:"info",dark:""}},[e._v("Службы")])],1)],1)],1)},b=[],_={name:"home",methods:{goToPage:function(e){Fe.push({name:e})}}},g=_,y=(n("3c2a"),Object(u["a"])(g,v,b,!1,null,"172bd85f",null)),x=y.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"abonents"},[n("v-layout",{attrs:{"align-center":"","justify-center":""}},[n("div",{staticClass:"search"},[n("v-text-field",{attrs:{outline:"",label:"Поиск",type:"text","prepend-icon":"search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]),n("Telephones",{attrs:{telephones:e.testtelephones,iconName:e.iconName,namePath:e.namePath},on:{deleteTelephone:e.deleteTelephone}})],1)},k=[],j=n("a4bb"),$=n.n(j),E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Telephones"},[n("v-layout",{attrs:{"align-center":"","justify-center":""}},[n("v-card",{staticClass:"list"},[n("v-list",{attrs:{"two-line":""}},e._l(e.telephones,function(t,s){return n("div",{key:t.id},[t.divider?n("v-divider",{key:s,attrs:{inset:t.inset}}):n("v-list-tile",{key:t.id,attrs:{avatar:""},on:{click:function(n){e.goToPageTelephone(t.id)}}},[n("v-list-tile-avatar",[n("v-icon",{attrs:{size:"40",color:"green darken-2"}},[e._v(e._s(e.iconName))])],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v(e._s(t.name))]),n("v-list-tile-sub-title",[e._v(e._s(t.place))])],1),n("v-list-tile-action",[n("v-btn",{attrs:{icon:"",ripple:""},on:{click:function(n){n.stopPropagation(),e.deleteTelephone(t.id)}}},[n("v-icon",{attrs:{color:"red lighten-1"}},[e._v("delete")])],1)],1)],1)],1)}),0)],1)],1)],1)},T=[],w={name:"Telephones",props:["telephones","namePath","iconName"],methods:{goToPageTelephone:function(e){Fe.push({name:this.namePath,params:{id:e}})},deleteTelephone:function(e){this.$emit("deleteTelephone",e)}}},A=w,O=(n("ec46"),Object(u["a"])(A,E,T,!1,null,null,null)),S=O.exports,q=n("bc3a"),N=n.n(q),R={name:"abonents",components:{Telephones:S},data:function(){return{testtelephones:[{id:"1",name:"Зыльков Даниил Алексеевич",middle_name:"Алексеевич",place:"Рощино"},{divider:!0,inset:!0},{id:"2",name:"Гриньков Григорий вцвцвывы",place:"Санкт-Петербург"},{divider:!0,inset:!0},{id:"3",name:"Камчатный Андрей Демонович",place:"Санкт-Петербург"},{divider:!0,inset:!0},{id:"4",name:"Первушин Алексей Антонович",place:"Санкт-Петербург"}],telephones:[],iconName:"account_circle",namePath:"Абонент",search:""}},created:function(){var e=this;N.a.get("/telephones.api").then(function(t){e.telephones=t.data.output.map(function(e){return{id:e.id,name:[e.surname,e.name,e.middle_name].join(" "),place:e.place}})}).catch(function(e){return console.log(e)})},watch:{search:function(e){var t=this;N.a.get("/telephones/search.api",{params:{query:e}}).then(function(e){t.telephones=e.data.output.map(function(e){return{id:e.id,name:[e.surname,e.name,e.middle_name].join(" "),place:e.place}})}).catch(function(e){return console.log(e)})}},methods:{deleteTelephone:function(e){var t=this;N()({method:"post",url:"/telephones.api",data:{method:"delete",id:e},transformRequest:function(e){return $()(e).map(function(t,n){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))}).join("&")}}).then(function(n){console.log("Sucse:",n.data),t.telephones=t.telephones.filter(function(t){return t.id!==e})}).catch(function(e){return console.log(e)})}}},H=R,P=(n("133f"),Object(u["a"])(H,C,k,!1,null,null,null)),I=P.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Abonent"},[n("Telephone",{attrs:{telephone:e.testtelephone}})],1)},F=[],M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Telephone"},[n("v-layout",{attrs:{"align-center":"","justify-center":""}},[n("v-card",{staticClass:"list"},[n("v-list",{attrs:{"two-line":""}},[n("v-list-tile",[n("v-list-tile-content",[n("v-list-tile-title",[e._v("Фамилия")]),n("v-list-tile-sub-title",[e._v(e._s(e.telephone.surname))])],1)],1),n("v-list-tile",[n("v-list-tile-content",[n("v-list-tile-title",[e._v("Имя")]),n("v-list-tile-sub-title",[e._v(e._s(e.telephone.name))])],1)],1),n("v-list-tile",[n("v-list-tile-content",[n("v-list-tile-title",[e._v("Отчество")]),n("v-list-tile-sub-title",[e._v(e._s(e.telephone.middle_name))])],1)],1),n("v-list-tile",[n("v-list-tile-content",[n("v-list-tile-title",[e._v("Место прописки")]),n("v-list-tile-sub-title",[e._v(e._s(e.telephone.place))])],1)],1),n("v-list-tile",[n("v-list-tile-content",[n("v-list-tile-title",[e._v("Адресс")]),n("v-list-tile-sub-title",[e._v(e._s(e.telephone.address))])],1)],1),n("v-list-tile",[n("v-list-tile-content",[n("v-list-tile-title",[e._v("Номер телефона")]),n("v-list-tile-sub-title",[e._v(e._s(e.telephone.number_telephone))])],1)],1)],1)],1)],1)],1)},B=[],z={name:"Telephone",props:["telephone"]},J=z,D=(n("fa5f"),Object(u["a"])(J,M,B,!1,null,null,null)),G=D.exports,K={name:"Abonent",components:{Telephone:G},data:function(){return{testtelephone:{id:"1",surname:"Зыльков",name:"Даниил",middle_name:"Алексеевич",place:"Рощино",address:"проезд Строителей, дом 124",number_telephone:"823-321-32-32"},telephone:{id:"",surname:"",name:"",middle_name:"",place:"",address:"",number_telephone:""}}},created:function(){var e=this;N.a.get("/telephone.api",{params:{id:this.$route.params.id}}).then(function(t){e.telephone=t.data.output}).catch(function(e){return console.log(e)})}},L=K,Q=Object(u["a"])(L,U,F,!1,null,null,null),V=Q.exports,W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"structurs"},[n("v-layout",{attrs:{"align-center":"","justify-center":""}},[n("div",{staticClass:"search"},[n("v-text-field",{attrs:{outline:"",label:"Поиск",type:"text","prepend-icon":"search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]),n("Telephones",{attrs:{telephones:e.testtelephones,iconName:e.iconName,namePath:e.namePath},on:{deleteTelephone:e.deleteTelephone}})],1)},X=[],Y={name:"structurs",components:{Telephones:S},data:function(){return{testtelephones:[{id:"1",name:"Полиция",middle_name:"Алексеевич",place:"Рощино"},{divider:!0,inset:!0},{id:"2",name:"ООО Солнышко",place:"Санкт-Петербург"},{divider:!0,inset:!0},{id:"3",name:"УП Лалаленд",place:"Санкт-Петербург"}],telephones:[],iconName:"business",namePath:"Служба",search:""}},created:function(){var e=this;N.a.get("/structurs.api").then(function(t){e.telephones=t.data.output}).catch(function(e){return console.log(e)})},watch:{search:function(e){var t=this;N.a.get("/structurs/search.api",{params:{query:e}}).then(function(e){t.telephones=e.data.output}).catch(function(e){return console.log(e)})}},methods:{deleteTelephone:function(e){var t=this;N()({method:"post",url:"/structurs.api",data:{method:"delete",id:e},transformRequest:function(e){return $()(e).map(function(t,n){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))}).join("&")}}).then(function(n){console.log("Sucse:",n.data),t.telephones=t.telephones.filter(function(t){return t.id!==e})}).catch(function(e){return console.log(e)})}}},Z=Y,ee=(n("94a1"),Object(u["a"])(Z,W,X,!1,null,null,null)),te=ee.exports,ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Structur"},[n("OfficalTelephone",{attrs:{telephone:e.testtelephone}}),n("SubStructur",{attrs:{substructrs:e.testsubstructrs},on:{deleteSubstruct:e.deleteSubstruct,deleteOffTelephone:e.deleteOffTelephone}})],1)},se=[],ae=(n("7514"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"OfficalTelephone"},[n("v-layout",{attrs:{"align-center":"","justify-center":""}},[n("v-card",{staticClass:"list"},[n("v-list",{attrs:{"two-line":""}},[n("v-list-tile",[n("v-list-tile-content",[n("v-list-tile-title",[e._v("Название")]),n("v-list-tile-sub-title",[e._v(e._s(e.telephone.name))])],1)],1),n("v-list-tile",[n("v-list-tile-content",[n("v-list-tile-title",[e._v("Место нахождения")]),n("v-list-tile-sub-title",[e._v(e._s(e.telephone.place))])],1)],1),e.telephone.address?n("v-list-tile",[n("v-list-tile-content",[n("v-list-tile-title",[e._v("Адресс")]),n("v-list-tile-sub-title",[e._v(e._s(e.telephone.address))])],1)],1):e._e()],1)],1)],1)],1)}),re=[],oe={name:"OfficalTelephone",props:["telephone"]},ie=oe,le=(n("a2f7"),Object(u["a"])(ie,ae,re,!1,null,null,null)),ce=le.exports,ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"SubStructur"},[n("v-layout",{attrs:{"align-center":"","justify-center":"","fill-height":""}},[n("v-card",{staticClass:"list"},[n("v-expansion-panel",e._l(e.substructrs,function(t){return n("v-expansion-panel-content",{key:t.id,attrs:{"expand-icon":"mdi-menu-down"}},[n("v-btn",{attrs:{icon:"",ripple:""},on:{click:function(n){e.deleteSubstruct(t.id)}}},[n("v-icon",{attrs:{color:"red lighten-1"}},[e._v("delete")])],1),n("div",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(t.name))]),n("v-layout",{attrs:{"align-center":"","justify-center":""}},[n("v-card",{staticClass:"card",attrs:{flat:""}},[n("v-list",{attrs:{"two-line":""}},[n("v-subheader",{staticClass:"subtitle"},[e._v("\n                            Данные\n                        ")]),n("v-list-tile-content",[n("v-list-tile-title",[e._v("Название")]),n("v-list-tile-sub-title",[e._v(e._s(t.name))])],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v("Тип")]),n("v-list-tile-sub-title",[e._v(e._s(t.type))])],1),t.adress?n("v-list-tile-content",[n("v-list-tile-title",[e._v("Адресс")]),n("v-list-tile-sub-title",[e._v(e._s(t.adress))])],1):e._e(),n("v-subheader",{staticClass:"subtitle"},[e._v("\n                            Контакные данные\n                        ")]),e._l(t.number,function(s,a){return n("span",{key:a},[n("v-list-tile-content",[n("v-list-tile-title",[e._v(e._s(e.getTypeNumber(s)))]),n("v-list-tile-sub-title",[e._v(e._s(s[e.getTypeNumber(s)]))])],1),n("v-list-tile-action",[n("v-btn",{attrs:{icon:"",ripple:""},on:{click:function(n){e.deleteOffTelephone(e.getTypeNumber(s),s[e.getTypeNumber(s)],t.id)}}},[n("v-icon",{attrs:{color:"red lighten-1"}},[e._v("delete")])],1)],1)],1)})],2)],1)],1)],1)}),1)],1)],1)],1)},de=[],pe={name:"SubStructur",props:["substructrs"],methods:{getTypeNumber:function(e){return $()(e)[0]},deleteSubstruct:function(e){this.$emit("deleteSubstruct",e)},deleteOffTelephone:function(e,t,n){this.$emit("deleteOffTelephone",{type:e,number:t,id:n})}}},me=pe,fe=(n("c8a9"),Object(u["a"])(me,ue,de,!1,null,null,null)),he=fe.exports,ve={name:"Structur",components:{OfficalTelephone:ce,SubStructur:he},data:function(){return{telephone:{id:"",name:"",place:""},substructrs:[],testtelephone:{id:"1",name:"Полиция",place:"Рощино"},testsubstructrs:[{id:"1",name:"Отдел 5",type:"отдел",telephones:[{number:"323131",type:"Факс"},{number:"323131",type:"Телефон"}]},{id:"2",name:"Отдел 2",type:"отдел",address:"проезд Строителей, дом 124",telephones:[{number:"43234",type:"Факс"},{number:"43245",type:"Телефон"}]}]}},created:function(){var e=this;N.a.get("/structur.api",{params:{id:this.$route.params.id}}).then(function(t){e.telephone=t.data.output}).catch(function(e){return console.log(e)}),N.a.get("/substructurs.api",{params:{id:this.$route.params.id}}).then(function(t){e.substructrs=t.data.output}).catch(function(e){return console.log(e)})},methods:{deleteSubstruct:function(e){var t=this;N()({method:"post",url:"/substructur.api",data:{method:"delete",id:e},transformRequest:function(e){return $()(e).map(function(t,n){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))}).join("&")}}).then(function(n){console.log("Sucse:",n.data),t.substructrs=t.substructrs.filter(function(t){return t.id!==e})}).catch(function(e){return console.log(e)})},deleteOffTelephone:function(e){var t=this;N()({method:"post",url:"/substructur/telephone.api",data:{method:"delete",number:e.number,type:e.type,id_substructr:e.id},transformRequest:function(e){return $()(e).map(function(t,n){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))}).join("&")}}).then(function(n){var s=0,a=t.substructrs.find(function(t,n){if(t.id===e.id)return s=n,!0}).number.filter(function(t,n){return t!==e.type&&n!==e.number});t.substructrs[s].number=a,console.log("Sucse:",n.data)}).catch(function(e){return console.log(e)})}}},be=ve,_e=(n("96b7"),Object(u["a"])(be,ne,se,!1,null,null,null)),ge=_e.exports,ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"AddAbonent"},[n("v-layout",{attrs:{"justify-center":""}},[n("v-flex",{attrs:{xs12:"",sm10:"",md8:"",lg6:""}},[n("v-card",{ref:"form",staticClass:"card-form"},[n("v-card-text",[n("v-text-field",{ref:"surname",staticClass:"item-list",attrs:{rules:[function(){return!!e.surname||"Это поле должо быть заполенно"}],label:"Фамилия",placeholder:"Зыльков",required:""},model:{value:e.surname,callback:function(t){e.surname=t},expression:"surname"}}),n("v-text-field",{ref:"name",staticClass:"item-list",attrs:{rules:[function(){return!!e.name||"Это поле должо быть заполенно "}],label:"Имя",placeholder:"Даниил",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),n("v-text-field",{ref:"middle_name",staticClass:"item-list",attrs:{rules:[function(){return!!e.middle_name||"Это поле должо быть заполенно"}],label:"Отчество",placeholder:"Алексеевич",required:""},model:{value:e.middle_name,callback:function(t){e.middle_name=t},expression:"middle_name"}}),n("v-select",{ref:"place",attrs:{items:e.places,"item-text":"name","item-value":"id",label:"Место прописки","return-object":"",rules:[function(e){return!!e||"Это поле должо быть заполенно"}],required:""},model:{value:e.place,callback:function(t){e.place=t},expression:"place"}}),n("v-text-field",{ref:"address",staticClass:"item-list",attrs:{label:"Адресс",placeholder:"ул. Строителей дом 123",required:""},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}}),n("v-text-field",{ref:"number_telephone",staticClass:"item-list",attrs:{rules:[function(){return!!e.number_telephone||"Это поле должо быть заполенно"}],label:"Телефон",placeholder:"12332145",required:""},model:{value:e.number_telephone,callback:function(t){e.number_telephone=t},expression:"number_telephone"}})],1),n("v-divider",{staticClass:"mt-5"}),n("v-card-actions",[n("v-btn",{attrs:{flat:""},on:{click:function(t){e.cancel()}}},[e._v("Отменить")]),n("v-spacer"),n("v-slide-x-reverse-transition",[e.formHasErrors?n("v-tooltip",{attrs:{left:""}},[n("v-btn",{staticClass:"my-0",attrs:{slot:"activator",icon:""},on:{click:e.resetForm},slot:"activator"},[n("v-icon",[e._v("refresh")])],1),n("span",[e._v("Очистить форму")])],1):e._e()],1),n("v-btn",{attrs:{color:"success",flat:""},on:{click:e.submit}},[e._v("Добавить")])],1)],1)],1)],1)],1)},xe=[],Ce=(n("ac6a"),{name:"AddAbonent",data:function(){return{places:[],surname:null,name:null,middle_name:null,place:null,address:null,number_telephone:null,errorMessages:[],formHasErrors:!1}},computed:{form:function(){return{surname:this.surname,name:this.name,middle_name:this.middle_name,place:this.place,address:this.address,number_telephone:this.number_telephone}}},created:function(){var e=this;N.a.get("/places.api").then(function(t){e.places=t.data.output}).catch(function(e){return console.log(e)})},methods:{cancel:function(){Fe.back()},resetForm:function(){var e=this;this.errorMessages=[],this.formHasErrors=!1,$()(this.form).forEach(function(t){e.$refs[t].reset()})},submit:function(){var e=this;this.formHasErrors=!1,$()(this.form).forEach(function(t){e.form[t]||(e.formHasErrors=!0),e.$refs[t].validate(!0)}),this.formHasErrors||N()({method:"post",url:"/telephones.api",data:{method:"add",id_place:this.place.id,surname:this.surname,name:this.name,middle_name:this.middle_name,address:this.adress,number_telephone:this.number_telephone},transformRequest:function(e){return $()(e).map(function(t,n){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))}).join("&")}}).then(function(t){console.log("Sucse:",t.data),e.resetForm()}).catch(function(e){return console.log(e)})}}}),ke=Ce,je=(n("ebc2"),Object(u["a"])(ke,ye,xe,!1,null,null,null)),$e=je.exports,Ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"AddStructur"},[n("v-layout",{attrs:{"justify-center":""}},[n("v-flex",{attrs:{xs12:"",sm10:"",md8:"",lg6:""}},[n("v-card",{ref:"form",staticClass:"card-form"},[n("v-card-text",[n("v-text-field",{ref:"name",staticClass:"item-list",attrs:{rules:[function(){return!!e.name||"Это поле должо быть заполенно"}],label:"Название",placeholder:"Полиция",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),n("v-select",{ref:"place",attrs:{items:e.testPlaces,"item-text":"name","item-value":"id",label:"Местоположение","return-object":"",rules:[function(e){return!!e||"Это поле должо быть заполенно"}],required:""},model:{value:e.place,callback:function(t){e.place=t},expression:"place"}}),n("v-text-field",{ref:"adress",staticClass:"item-list",attrs:{rules:[function(){return!!e.adress||"Это поле должо быть заполенно "}],label:"Адресс",placeholder:"ул. Сизам, дом 12",required:""},model:{value:e.adress,callback:function(t){e.adress=t},expression:"adress"}})],1),n("v-divider",{staticClass:"mt-5"}),n("v-card-actions",[n("v-btn",{attrs:{flat:""},on:{click:function(t){e.cancel()}}},[e._v("Отменить")]),n("v-spacer"),n("v-slide-x-reverse-transition",[e.formHasErrors?n("v-tooltip",{attrs:{left:""}},[n("v-btn",{staticClass:"my-0",attrs:{slot:"activator",icon:""},on:{click:e.resetForm},slot:"activator"},[n("v-icon",[e._v("refresh")])],1),n("span",[e._v("Очистить форму")])],1):e._e()],1),n("v-btn",{attrs:{color:"success",flat:""},on:{click:e.submit}},[e._v("Добавить")])],1)],1)],1)],1)],1)},Te=[],we={name:"AddStructur",data:function(){return{name:null,testPlaces:[{id:1,name:"Санк-Петербург"},{id:2,name:"Рощино"}],places:[],place:null,adress:null,errorMessages:[],formHasErrors:!1}},computed:{form:function(){return{name:this.name,place:this.place,adress:this.adress}}},created:function(){var e=this;N.a.get("/places.api").then(function(t){e.places=t.data.output}).catch(function(e){return console.log(e)})},methods:{cancel:function(){Fe.back()},resetForm:function(){var e=this;this.errorMessages=[],this.formHasErrors=!1,$()(this.form).forEach(function(t){e.$refs[t].reset()})},submit:function(){var e=this;this.formHasErrors=!1,$()(this.form).forEach(function(t){e.form[t]||(e.formHasErrors=!0),e.$refs[t].validate(!0)}),this.formHasErrors||N()({method:"post",url:"/structurs.api",data:{id_place:this.place.id,name:this.name,adress:this.adress,method:"add"},transformRequest:function(e){return $()(e).map(function(t,n){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))}).join("&")}}).then(function(t){console.log("Sucse:",t.data),e.resetForm()}).catch(function(e){return console.log(e)})}}},Ae=we,Oe=(n("d0d6"),Object(u["a"])(Ae,Ee,Te,!1,null,null,null)),Se=Oe.exports,qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"AddSubStructur"},[n("v-layout",{attrs:{"justify-center":""}},[n("v-flex",{attrs:{xs12:"",sm10:"",md8:"",lg6:""}},[n("v-card",{ref:"form",staticClass:"card-form"},[n("v-card-text",[n("v-text-field",{ref:"name",staticClass:"item-list",attrs:{rules:[function(){return!!e.name||"Это поле должо быть заполенно"}],label:"Название",placeholder:"Отдел 4",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),n("v-text-field",{ref:"type",staticClass:"item-list",attrs:{rules:[function(){return!!e.type||"Это поле должо быть заполенно "}],label:"Тип",placeholder:"Отдел",required:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}}),n("v-text-field",{ref:"address",staticClass:"item-list",attrs:{label:"Адресс",placeholder:"ул. Строителей дом 123",required:""},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}}),e._l(e.telephones,function(t,s){return n("span",{key:s},[n("v-divider",{staticClass:"item-list"}),n("v-text-field",{ref:"telephones["+s+"].type",refInFor:!0,staticClass:"item-list",attrs:{rules:[function(){return!!e.telephones[s].type||"Это поле должо быть заполенно "}],label:"Тип",placeholder:"Факс",required:""},model:{value:e.telephones[s].type,callback:function(t){e.$set(e.telephones[s],"type",t)},expression:"telephones[index].type"}}),n("v-text-field",{ref:"telephones["+s+"].number",refInFor:!0,staticClass:"item-list",attrs:{rules:[function(){return!!e.telephones[s].number||"Это поле должо быть заполенно"}],label:"Телефон",placeholder:"6666",required:""},model:{value:e.telephones[s].number,callback:function(t){e.$set(e.telephones[s],"number",t)},expression:"telephones[index].number"}}),n("v-layout",{attrs:{"align-center":"","justify-center":"",row:""}},[n("v-btn",{attrs:{small:"",round:"",color:"primary"},on:{click:function(t){e.deletetelephone(s)}}},[e._v("Убрать")])],1)],1)}),n("v-divider",{staticClass:"item-list"}),n("v-layout",{attrs:{"align-center":"","justify-center":"",row:""}},[n("v-btn",{attrs:{small:"",round:"",color:"primary",dark:""},on:{click:function(t){e.addtelephone()}}},[e._v("Добавить телефон")])],1)],2),n("v-divider",{staticClass:"mt-5"}),n("v-card-actions",[n("v-btn",{attrs:{flat:""},on:{click:function(t){e.cancel()}}},[e._v("Отменить")]),n("v-spacer"),n("v-slide-x-reverse-transition",[e.formHasErrors?n("v-tooltip",{attrs:{left:""}},[n("v-btn",{staticClass:"my-0",attrs:{slot:"activator",icon:""},on:{click:e.resetForm},slot:"activator"},[n("v-icon",[e._v("refresh")])],1),n("span",[e._v("Очистить форму")])],1):e._e()],1),n("v-btn",{attrs:{color:"success",flat:""},on:{click:e.submit}},[e._v("Добавить")])],1)],1)],1)],1)],1)},Ne=[],Re=n("75fc"),He={name:"AddSubStructur",data:function(){return{name:null,type:null,address:null,telephones:[],errorMessages:[],formHasErrors:!1}},computed:{form:function(){return{name:this.name,type:this.type,address:this.address}}},methods:{addtelephone:function(){this.telephones=[].concat(Object(Re["a"])(this.telephones),[{number:null,type:null}])},deletetelephone:function(e){this.telephones=this.telephones.filter(function(t,n){return n!==e})},cancel:function(){Fe.back()},resetForm:function(){var e=this;this.errorMessages=[],this.formHasErrors=!1,$()(this.form).forEach(function(t){e.$refs[t].reset()}),this.telephones=[]},submit:function(){var e=this;this.formHasErrors=!1,$()(this.form).forEach(function(t){e.form[t]||(e.formHasErrors=!0),e.$refs[t].validate(!0)}),this.telephones.forEach(function(t,n){e.$refs["telephones[".concat(n,"].number")][0]||(e.formHasErrors=!0),e.$refs["telephones[".concat(n,"].type")][0]||(e.formHasErrors=!0),e.$refs["telephones[".concat(n,"].number")][0].validate(!0),e.$refs["telephones[".concat(n,"].type")][0].validate(!0)}),this.formHasErrors||N()({method:"post",url:"/substructur.api",data:{method:"add",id_structur:this.$route.params.id,name:this.name,type:this.type,adress:this.address},transformRequest:function(e){return $()(e).map(function(t,n){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))}).join("&")}}).then(function(e){return console.log("Succes add substruct:",e.data),e.data.output}).then(function(t){e.telephones.forEach(function(e){N()({method:"post",url:"/substructur/telephone.api",data:{method:"add",id_substructr:t.id,type:e.type,number:e.number},transformRequest:function(e){return $()(e).map(function(t,n){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))}).join("&")}}).then(function(e){console.log("Succes add telephone:",e.data)}).catch(function(e){return console.log("Error add telephone:",e)})})}).catch(function(e){return console.log("Error add substruct:",e)})}}},Pe=He,Ie=(n("a0d1"),Object(u["a"])(Pe,qe,Ne,!1,null,null,null)),Ue=Ie.exports;s["default"].use(h["a"]);var Fe=new h["a"]({routes:[{path:"/",name:"Главная",component:x},{path:"/abonents",name:"Абоненты",component:I},{path:"/abonents/add",name:"Новый абонент",component:$e},{path:"/structurs",name:"Службы",component:te},{path:"/structurs/add",name:"Новая служба",component:Se},{path:"/abonent/:id",name:"Абонент",component:V},{path:"/structur/:id",name:"Служба",component:ge},{path:"/structur/:id/add",name:"Новый отдел",component:Ue}]}),Me={name:"Navigator",props:["nav","drawer"],methods:{goToPage:function(e){Fe.push({name:e})}},watch:{drawer:function(e){this.$emit("close-nav",e)}}},Be=Me,ze=Object(u["a"])(Be,m,f,!1,null,null,null),Je=ze.exports,De={name:"app",components:{Header:p,Navigator:Je},data:function(){return{drawer:null,btnAdd:!1,admin:!0,tooltipAdd:"Добавить",nav:[{title:"Главная",pathName:"Главная",icon:"home"},{title:"Абоненты",pathName:"Абоненты",icon:"account_circle"},{title:"Службы",pathName:"Службы",icon:"business"}]}},watch:{$route:function(e){this.admin&&("Абоненты"===e.name?(this.btnAdd=!0,this.tooltipAdd="Добавить абонента"):"Службы"===e.name?(this.btnAdd=!0,this.tooltipAdd="Добавить службу"):"Служба"===e.name?(this.btnAdd=!0,this.tooltipAdd="Добавить отдел"):this.btnAdd=!1)}},created:function(){this.admin&&("Абоненты"===this.$route.name?(this.btnAdd=!0,this.tooltipAdd="Добавить абонента"):"Службы"===this.$route.name?(this.btnAdd=!0,this.tooltipAdd="Добавить службу"):"Служба"===this.$route.name?(this.btnAdd=!0,this.tooltipAdd="Добавить отдел"):this.btnAdd=!1)},methods:{openNav:function(){this.drawer=!this.drawer},closeNav:function(e){this.drawer=e},clickAdd:function(){"Абоненты"===this.$route.name?Fe.push({name:"Новый абонент"}):"Службы"===this.$route.name?Fe.push({name:"Новая служба"}):"Служба"===this.$route.name&&Fe.push({name:"Новый отдел"})}}},Ge=De,Ke=Object(u["a"])(Ge,a,r,!1,null,null,null),Le=Ke.exports,Qe=n("ce5b"),Ve=n.n(Qe);n("bf40");s["default"].config.productionTip=!1,s["default"].use(Ve.a),new s["default"]({router:Fe,render:function(e){return e(Le)}}).$mount("#app")},"5c32":function(e,t,n){},"6b66":function(e,t,n){},"6d9a":function(e,t,n){},"94a1":function(e,t,n){"use strict";var s=n("e714"),a=n.n(s);a.a},"950e":function(e,t,n){},"96b7":function(e,t,n){"use strict";var s=n("5c32"),a=n.n(s);a.a},a0d1:function(e,t,n){"use strict";var s=n("2f07"),a=n.n(s);a.a},a2f7:function(e,t,n){"use strict";var s=n("da36"),a=n.n(s);a.a},a740:function(e,t,n){"use strict";var s=n("2666"),a=n.n(s);a.a},bb5a:function(e,t,n){},c8a9:function(e,t,n){"use strict";var s=n("950e"),a=n.n(s);a.a},c8e9:function(e,t,n){},d0d6:function(e,t,n){"use strict";var s=n("2600"),a=n.n(s);a.a},da36:function(e,t,n){},e714:function(e,t,n){},ebc2:function(e,t,n){"use strict";var s=n("3815"),a=n.n(s);a.a},ec46:function(e,t,n){"use strict";var s=n("c8e9"),a=n.n(s);a.a},fa5f:function(e,t,n){"use strict";var s=n("6d9a"),a=n.n(s);a.a}});
//# sourceMappingURL=app.064cca09.js.map